version: 1.0.0.{build}

configuration:
- Debug
- FWDLL
- Release

image: Visual Studio 2022

environment:
  VULKAN_SDK: C:\VulkanSDK\1.3.204.0

# 必要なツールのインストール
install:
  # Vulkan SDKをダウンロードしてインストール
  - cmd: >-
    curl -L --silent --show-error --output VulkanSDK.exe https://sdk.lunarg.com/sdk/download/latest/windows/vulkan-sdk
    .\VulkanSDK.exe /S

  # CMakeのインストール
  - ps: |
      choco install cmake --installargs 'ADD_CMAKE_TO_PATH=System'

  # 必要なライブラリを取得
  - git clone --recursive https://github.com/kong9812/MyosotisFramework.git

build_script:
  # CMakeでビルド
  - ps: |
      cd your-project
      cmake -S . -B build
      cmake --build build --config Release

after_build:
  # ビルド後の処理（例：テストや成果物の作成）
  - ps: |
      echo "Build completed"